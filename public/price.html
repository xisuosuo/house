<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no" />
    <title>滁州市房价变化分析</title>
    <link rel="stylesheet"
        href="https://js.arcgis.com/4.10/esri/themes/dark/main.css">
    <style>
        html,
        body,
        #map {
            height: 100%;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        body {
            background-color: #FFF;
            overflow: hidden;
            font-family: "Trebuchet MS", sans-serif;
        }

        #del {
            position: absolute;
            top: 20px;
            left: 80px;
            font-size: 16px;
            z-index: 10
        }
    </style>
</head>

<body>
    <!-- <button id="del">清除渲染</button> -->
    <div id="map"></div>
    <div id="showdata" style="width: 500px;height: 200px;position: fixed;right:30px;top: 100px;"></div>
    <script src="ArcGISEcharts4.js"></script>
    <script>
        var dojoConfig = {
            parseOnLoad: true,
            packages: [{
                name: "src",
                location: location.pathname.replace(/\/[^/]+$/, "") + "/src"
            }]
        };
    </script>
    <script src="https://js.arcgis.com/4.10/init.js"></script>
    <script src="jquery-3.1.1.min.js"></script>
    <script>
        var map;
        require(["esri/Basemap", "esri/layers/TileLayer", "esri/Map", "esri/views/MapView", "src/EchartsLayer4",
            "dojo/domReady!"
        ], function (Basemap, TileLayer, Map, MapView, EchartsLayer) {
            var layer = new TileLayer({
                url: "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineCommunity/MapServer"
            });
            var customBasemap = new Basemap({
                baseLayers: [layer],
                title: "Custom Basemap",
                id: "myBasemap"
            });
            var map = new Map({
                basemap: customBasemap
            });
            var mapView = new MapView({
                center: [118.337731, 32.299211],
                container: 'map',
                map: map,
                zoom: 13
            });
            mapView.when(function () {
                var overlay = new EchartsLayer(mapView, echarts);
                var chartsContainer = overlay.getEchartsContainer();
                var myChart = overlay.initECharts(chartsContainer);
                var data = [
                    {name: '成兴花园', value: 6081,pricedata:[5821,5961,6081]},
					{name: '创业苑', value: 4162,pricedata:[3982,4082,4162]},
					{name: '创业北苑', value: 5015,pricedata:[4815,4925,5015]},
					{name: '香樟花园', value: 7681,pricedata:[7121,7421,7681]},
					{name: '南湖1号', value: 9462,pricedata:[8662,9062,9462]},
					{name: '维也纳春天花园', value: 7300,pricedata:[6900,7120,7300]},
					{name: '沁春园', value: 6709,pricedata:[6379,6559,6709]},
					{name: '蓝溪都市家园', value: 7808,pricedata:[7248,7548,7808]},
					{name: '丰泽茗园', value:6439 ,pricedata:[6169,6319,6439]},
					{name: '丰乐世家', value: 7634,pricedata:[7154,7414,7634]},
					{name: '丰乐山庄', value: 6821,pricedata:[6491,6671,6821]},
					{name: '浩然国际花园', value: 7250,pricedata:[6840,7060,7250]},
					{name: '金鹏书香门第', value: 8198,pricedata:[7588,7888,8198]},
					{name: '君安阳光地中海', value: 8853,pricedata:[8293,8593,8853]},
					{name: '三里亭人家', value: 7186,pricedata:[6776,6996,7186]},
					{name: '御天下', value: 8438,pricedata:[7828,8128,8438]},
					{name: '百合花园', value: 8032,pricedata:[7422,7722,8032]},
					{name: '清风园', value: 6180,pricedata:[5920,6060,6180]},
					{name: '添景园', value: 6276,pricedata:[5996,6136,6276]},
					{name: '润芳园', value: 5981,pricedata:[5761,5881,5981]},
					{name: '紫薇西区', value: 5623,pricedata:[5403,5523,5623]},
					{name: '凤凰湖畔', value: 6347,pricedata:[6077,6227,6347]},
					{name: '东水银庄', value: 7260,pricedata:[6860,7080,7260]},
					{name: '碧桂园紫薇天悦', value: 7371,pricedata:[6891,7151,7371]},
					{name: '凯迪融创玉兰公馆', value: 8840,pricedata:[8280,8580,8840]},
					{name: '广场家园', value: 6857,pricedata:[6527,6707,6857]},
					{name: '南湖花园', value: 5623,pricedata:[5403,5523,5623]},
					{name: '永鑫金色春天', value: 7361,pricedata:[6881,7141,7361]},
					{name: '碧桂园公园雅筑', value: 7115,pricedata:[6705,6925,7115]},
					{name: '和顺沁园春', value: 7500,pricedata:[7020,7280,7500]},
					{name: '星雨华府', value: 6489,pricedata:[6219,6369,6489]},
					{name: '国兴翡翠湾', value: 7142,pricedata:[6732,6952,7142]},
					{name: '凤凰新二村', value: 6000,pricedata:[5740,5880,6000]},
					{name: '龙旺公寓', value: 6156,pricedata:[5896,6036,6156]},
					{name: '蓝天西区', value: 5733,pricedata:[5513,5623,5733]},
					{name: '菱溪苑 ', value: 4466,pricedata:[4286,4386,4466]},
					{name: '银花尚城', value: 5212,pricedata:[5012,5112,5212]},
					{name: '红三环家园', value: 6383,pricedata:[6113,6263,6383]},
					{name: '明乐苑', value: 7450,pricedata:[6970,7230,7450]},
					{name: '滨湖小区', value: 7555,pricedata:[7075,7335,7555]},
					{name: '三巽英倫華第', value: 6406,pricedata:[6136,6286,6406]},
					{name: '水石嘉园', value: 7870,pricedata:[7310,7610,7870]},
					{name: '泰鑫现代城', value: 8832,pricedata:[8272,8572,8832]},
					{name: '建福园', value: 5904,pricedata:[5684,5804,5904]},
					{name: '成业家园', value: 6928,pricedata:[5684,6778,6928]},
					{name: '会峰园', value: 5980,pricedata:[6598,5880,5980]},
					{name: '竹锦佳园', value: 6345,pricedata:[5760,6205,6345]},
					{name: '竹锦北苑', value: 7585,pricedata:[6065,7365,7583]},
					{name: '五星家园', value: 7218,pricedata:[7105,7028,7218]},
					{name: '水岸帝景', value: 8151,pricedata:[6808,7841,8151]},
					{name: '金域豪庭', value: 7145,pricedata:[7541,6964,7154]},
					{name: '菱湖御庭', value: 6183,pricedata:[6744,6063,6183]},
					{name: '清流人家', value: 5094,pricedata:[5923,5504,5094]},
					{name: '清流水韵', value: 6539,pricedata:[4894,6419,6539]},
					{name: '山水人家', value: 6808,pricedata:[6269,6658,6808]},
					{name: '碧桂园紫龙府 ', value: 8958,pricedata:[6478,8698,8958]},
					{name: '天安都市花园东区  ', value: 7274,pricedata:[8398,7094,7247]},
					{name: '天安都市花园西区', value: 6751,pricedata:[6874,6601,6751]},
					{name: '七彩世界欢乐城', value: 6962,pricedata:[8398,6812,6962]},
					{name: '珑樾华府', value: 6132,pricedata:[6874,6012,6132]},
					{name: '聚诚雍德府', value: 6053,pricedata:[6421,5933,6053]},
					{name: '东环菊香园 ', value: 5043,pricedata:[6632,4953,5043]},
					{name: '金燕小区 ', value: 4192,pricedata:[5872,4112,4192]},
					{name: '城中花园 ', value: 6445,pricedata:[5793,6325,6445]},
					{name: '天乐小区南区 ', value: 5152,pricedata:[4843,5035,5125]},
					{name: '新苑小区', value: 5341,pricedata:[4012,5224,5314]},
					{name: '置业花苑 ', value: 6594,pricedata:[6175,6474,6594]},
					{name: '嘉宇万豪名苑 ', value: 7575,pricedata:[4925,7355,7575]},
					{name: '明悦园', value: 7400,pricedata:[5114,7180,7400]},
					{name: '西涧二村', value: 4600,pricedata:[6324,4520,4600]},
					{name: '红叶山庄', value: 6372,pricedata:[7095,6252,6372]},
					{name: '铜欣花园', value: 6369,pricedata:[6920,6249,6369]},
					{name: '凤翔苑', value: 6534,pricedata:[6264,6414,6534]},
					{name: '新光家园 ', value: 6652,pricedata:[6322,6502,6652]},
					{name: '深秀园小区', value: 6181,pricedata:[5921,6061,6181]},
					{name: '东菱城市新地', value: 4500,pricedata:[4320,4420,4500]},
					{name: '凯迪融创御园', value: 8037,pricedata:[7427,7727,8037]},
					{name: '同乐东苑', value: 5880,pricedata:[5660,5780,5880]},
					{name: '金色河畔', value: 7136,pricedata:[6726,6946,7136]},
					{name: '天安都市花园南区', value: 688,pricedata:[6550,6730,6880]},
					{name: '安康苑', value: 6847,pricedata:[6517,6697,6847]},
					{name: '金鹏林溪书院', value: 5800,pricedata:[5580,5700,5800]},
					{name: '凤凰四村', value: 4716,pricedata:[4536,4636,4716]},
					{name: '盛世华庭怡园', value: 7038,pricedata:[6628,6848,7038]},
					{name: '天乐小区北区', value: 5373,pricedata:[5173,5283,5373]},
					{name: '鑫鑫公寓', value: 2893,pricedata:[2698,2799,2893]},
					{name: '官塘小区', value: 7094,pricedata:[6684,6904,7094]},
					{name: '龙蟠东苑', value: 6266,pricedata:[5986,6126,6266]},
					{name: '文昌花园', value: 7963,pricedata:[7403,7703,7963]},
					{name: '白庙庄园', value: 4563,pricedata:[4383,4483,4563]},
					{name: '碧桂园欧洲城', value: 7524,pricedata:[7044,7304,7524]},
					{name: '碧桂园依云小镇', value: 5500,pricedata:[5280,5400,5500]},
					{name: '碧桂园北岸世家', value: 7296,pricedata:[6896,7116,7296]},
					{name: '创业中苑', value: 4598,pricedata:[4418,4518,4598]},
					{name: '创业南苑', value: 5496,pricedata:[5296,5406,5496]},
					{name: '恒大江北帝景', value: 6336,pricedata:[6056,6196,6336]},
					{name: '菊香苑', value: 4951,pricedata:[4751,4861,4951]},
					{name: '金陵赋', value: 5501,pricedata:[5281,5401,5501]},
					{name: '香颂名郡', value: 7704,pricedata:[7144,7444,7704]},
					{name: '珑玺台', value: 7739,pricedata:[7179,7479,7739]},
					{name: '苏滁汽车生活广场', value: 6584,pricedata:[6314,6464,6584]},
					{name: '恒大绿洲', value: 7929,pricedata:[7369,7669,7929]},
					{name: '金鹏爱丽舍宫', value: 7548,pricedata:[7068,7328,7548]},
					{name: '书香雅苑', value: 7770,pricedata:[7210,7510,7770]},
					{name: '金鹏麓山院', value: 8519,pricedata:[7959,8259,8519]},
					{name: '天安世纪城', value: 6642,pricedata:[6312,6492,6642]},
					{name: '京华园南苑', value: 6185,pricedata:[5925,6065,6185]},
					{name: '锦绣湖小区', value: 4071,pricedata:[3891,3991,4071]},
					{name: '皖投碧湖云溪', value: 6623,pricedata:[6353,6503,6623]},
					{name: '富力乌衣水镇', value: 7324,pricedata:[6844,7104,7324]},
					{name: '银花新村榴园', value: 5742,pricedata:[5522,5642,5742]},
					{name: '湖心雅苑', value: 7433,pricedata:[6953,7213,7433]},
					{name: '银花西区南苑', value: 6347,pricedata:[5907,6197,6347]},
					{name: '都市名苑', value: 7840,pricedata:[7280,7580,7840]},
					{name: '宇业富春园', value: 7660,pricedata:[7100,7400,7660]},
					{name: '南都华府', value: 7743,pricedata:[7183,7483,7743]},
					{name: '东升花园', value: 4571,pricedata:[4391,4491,4571]},
					{name: '高速公园壹号', value: 5499,pricedata:[5279,5399,5499]},
					{name: '天逸华府桂园', value: 8192,pricedata:[7582,7882,8192]},
					{name: '天逸华府杏园', value: 7522,pricedata:[7042,7302,7522]},
					{name: '天逸华府竹园', value: 7673,pricedata:[7113,7413,7673]},
					{name: '祥生壹号院', value: 7124,pricedata:[6714,6934,7124]},
					{name: '左岸香颂', value: 8011,pricedata:[7401,7701,8011]},
					{name: '龙蟠北苑', value: 6575,pricedata:[6305,6455,6575]},
					{name: '凯迪塞纳河畔', value: 7689,pricedata:[6305,7429,7689]},
					{name: '龙蟠汇景', value: 7760,pricedata:[7200,7500,7760]},
					{name: '金鹏99广场', value: 7692,pricedata:[7132,7432,7692]},
					{name: '发能凤凰城', value: 7179,pricedata:[6769,6989,7179]},
					{name: '君安阳光都市小区', value: 7169,pricedata:[6759,6979,7169]},
					{name: '大成国际', value: 7277,pricedata:[6877,7097,7277]},
					{name: '高速东方天地', value: 8604,pricedata:[8044,8344,8604]},
					{name: '凯迪置地广场', value: 11250,pricedata:[9252,9758,11250]},
					{name: '正东中央公馆', value: 8012,pricedata:[7402,7702,8012]},
					{name: '阳光御景', value: 8461,pricedata:[7851,8151,8461]},
					{name: '弘阳时光澜庭', value:7196,pricedata:[6786,7006,7196]},
					{name: '水银山庄', value: 6960,pricedata:[6630,6810,6960]},
					{name: '名儒园', value: 5358,pricedata:[5158,5268,5358]},
					{name: '龙蟠南苑', value: 6237,pricedata:[5977,6117,6237]},
					{name: '英仕公馆', value: 8105,pricedata:[7495,7495,8105]},
					{name: '尚城国际', value: 7262,pricedata:[6862,7082,7262]},
					{name: '西涧花园', value: 3946,pricedata:[3766,3866,3946]},
					{name: '长乐小区', value: 4913,pricedata:[4713,4823,4913]},
					{name: '易景凯旋城', value: 6737,pricedata:[6407,6587,6737]},
					{name: '天达旺角花园', value: 4885,pricedata:[4685,4795,4885]},
					{name: '同乐西苑', value: 6159,pricedata:[5899,6039,6159]},
					{name: '卓耕天御', value: 7701,pricedata:[7141,7441,7701]},
					{name: '锦程公馆', value: 7329,pricedata:[6849,7109,7329]},
					{name: '宇业天逸华庭', value: 7940,pricedata:[7380,7680,7940]},
					{name: '碧桂园仕府公馆', value: 8380,pricedata:[7770,8070,8380]},
					{name: '国际城', value: 8095,pricedata:[7485,7785,8095]},
					{name: '银花新村', value: 5467,pricedata:[5267,5377,5467]},
					{name: '银花西区', value: 6277,pricedata:[5997,6137,6277]},
					{name: '金鹏玫瑰郡', value: 8405,pricedata:[7795,8095,8405]},
					{name: '裕坤丽晶城', value: 7399,pricedata:[6919,7179,7399]},
					{name: '星荟城', value: 4800,pricedata:[4620,4720,4800]},
					{name: '港汇中心', value: 6984,pricedata:[6654,6834,6984]},
					{name: '恒大名都', value: 8564,pricedata:[8004,8304,8564]},
					{name: '龙山小区', value: 5261,pricedata:[5061,5171,5261]},
					{name: '盛世华庭熙园', value: 6775,pricedata:[6445,6625,6775]},
					{name: '紫薇园', value: 5700,pricedata:[5580,5700,5700]},
					{name: '南国家园', value: 4049,pricedata:[3869,3969,4049]},
					{name: '桃园仙居', value: 5987,pricedata:[5767,5887,5987]},
					{name: '祥生艺境山城', value: 6625,pricedata:[6355,6505,6625]},
					{name: '碧桂园黄金时代', value: 8767,pricedata:[8207,8507,8767]},
					{name: '金城华府', value: 6722,pricedata:[6392,6572,6722]},
                ];
                var geoCoordMap = {
                    '成兴花园': ["118.326907","32.352524"],
                    '创业苑': ["118.337731","32.312873"],
					'创业北苑': ["118.336279","32.315111"],
					'香樟花园': ["118.332237","32.299211"],
					'南湖1号': ["118.323419","32.319498"],
					'维也纳春天花园': ["118.323653","32.314763"],
					'沁春园': ["118.317752","32.296954"],
					'蓝溪都市家园 ': ["118.315102","32.30044"],
					'丰泽茗园 ': ["118.319312","32.299204"],
					'丰乐世家': ["118.319375","32.295742"],
					'丰乐山庄': ["118.316336","32.297959"],
					'浩然国际花园': ["118.318518","32.266119"],
					'金鹏书香门第': ["118.315304","32.302258"],
					'君安阳光地中海': ["118.312682","32.262519"],
					'三里亭人家': ["118.315831","32.305556"],
					'御天下  ': ["118.321974","32.292667"],
					'百合花园': ["118.319971","32.294613"],
					'清风园': ["118.31534","32.29753"],
					'添景园': ["118.316926","32.298995"],
					'润芳园': ["118.316464","32.296899"],
					'紫薇西区': ["118.320777","32.298124"],
					'凤凰湖畔': ["118.316915","32.295537"],
					'东水银庄': ["118.328903","32.295932"],
					'碧桂园紫薇天悦': ["118.358954","32.270918"],
					'凯迪融创玉兰公馆': ["118.351622","32.27865"],
					'广场家园': ["118.323569","32.305235"],
					'南湖花园': ["118.316001","32.314185"],
					'永鑫金色春天': ["118.315954","32.268951"],
					'碧桂园公园雅筑': ["118.36066","32.303713"],
					'和顺沁园春': ["118.329639","32.280485"],
					'星雨华府': ["118.33289","32.334554"],
					'国兴翡翠湾': ["118.332913","32.330349"],
					'凤凰新二村': ["118.333201","32.309827"],
					'龙旺公寓': ["118.333047","32.310449"],
					'蓝天西区': ["118.329523","32.282896"],
					'菱溪苑': ["118.350744","32.346098"],
					'银花尚城': ["118.35271","32.341516"],
					'红三环家园': ["118.353042","32.30968"],
					'明乐苑': ["118.314276","32.313749"],
					'滨湖小区滨湖小区': ["118.309552","32.312736"],
					'三巽英倫華第': ["118.369584","32.299956"],
					'水石嘉园': ["118.321247","32.308646"],
					'泰鑫现代城': ["118.322029","32.305769"],
                    '建福园': ["118.319745","32.308109"],
					'成业家园': ["118.332464","32.288589"],
					'会峰园': ["118.329737","32.285083"],
					'竹锦佳园': ["118.318624","32.301991"],
					'竹锦北苑': ["118.319684","32.302743"],
					'五星家园': ["118.334631","32.303009"],
					'水岸帝景': ["118.316972","32.291906"],
					'金域豪庭': ["118.353226","32.314828"],
					'菱湖御庭': ["118.361687","32.314513"],
					'清流人家': ["118.370015","32.310771"],
					'清流水韵': ["118.352865","32.311449"],
					'山水人家': ["118.317781","32.275561"],
					'碧桂园紫龙府 ': ["118.327631","32.277416"],
					'天安都市花园东区  ': ["118.326953","32.282718"],
					'天安都市花园西区': ["118.325067","32.281637"],
					'七彩世界欢乐城': ["118.326045","32.277999"],
					'珑樾华府': ["118.372733","32.312264"],
					'聚诚雍德府': ["118.374366","32.321473"],
					'东环菊香园 ': ["118.375079","32.32448"],
					'金燕小区 ': ["118.360046","32.345845"],
					'城中花园 ': ["118.3218","32.314774"],
					'天乐小区南区 ': ["118.350518","32.281965"],
					'新苑小区': ["118.325553","32.312152"],
					'置业花苑 ': ["118.327094","32.314406"],
					'嘉宇万豪名苑 ': ["118.313288","32.308518"],
					'明悦园': ["118.322961","32.304512"],
					'西涧二村': ["118.306374","32.312805"],
					'红叶山庄': ["118.310785","32.306231"],
					'铜欣花园': ["118.312417","32.29741"],
					'凤翔苑': ["118.319414","32.292267"],
					'新光家园 ': ["118.318569","32.294104"],
					'深秀园小区': ["118.306748","32.299932"],
					'东菱城市新地': ["118.37801","32.320596"],
					'凯迪融创御园': ["118.339228","32.32465"],
					'同乐东苑': ["118.350803","32.263034"],
					'金色河畔': ["118.31311","32.318918"],
					'天安都市花园南区': ["118.327637","32.281009"],
					'安康苑': ["118.335425","32.28001"],
					'金鹏林溪书院': ["118.385491","32.298016"],
					'凤凰四村': ["118.333418","32.306329"],
					'盛世华庭怡园': ["118.341513","32.294601"],
					'天乐小区北区': ["118.351298","32.284801"],
                    '鑫鑫公寓': ["118.439517","32.206048"],
					'官塘小区': ["118.319717","32.262655"],
					'龙蟠东苑': ["118.321499","32.256586"],
					'文昌花园': ["118.323972","32.261534"],
					'白庙庄园': ["118.451665","32.178758"],
					'碧桂园欧洲城': ["118.492698","32.177306"],
					'碧桂园依云小镇': ["118.492381","32.183163"],
					'碧桂园北岸世家': ["118.417003","32.203489"],
					'创业中苑': ["118.346418","32.301896"],
					'创业南苑': ["118.364694","32.289496"],
					'恒大江北帝景': ["118.427869","32.204701"],
					'菊香苑': ["118.420888","32.209761"],
					'金陵赋': ["118.416869","32.207707"],
					'香颂名郡': ["118.344176","32.254"],
					'珑玺台': ["118.35329","32.254332"],
					'苏滁汽车生活广场': ["118.368659","32.262414"],
					'恒大绿洲': ["118.349543","32.253895"],
					'金鹏爱丽舍宫': ["118.335219","32.253919"],
					'书香雅苑': ["118.328058","32.253955"],
					'金鹏麓山院': ["118.323271","32.289972"],
					'天安世纪城': ["118.343958","32.281761"],
					'京华园南苑': ["118.3134","32.231939"],
					'锦绣湖小区': ["118.434841","32.200943"],
					'皖投碧湖云溪': ["118.438151","32.181014"],
					'富力乌衣水镇': ["118.415487","32.183985"],
					'银花新村榴园': ["118.332527","32.292144"],
					'湖心雅苑': ["118.336972","32.293594"],
					'银花西区南苑': ["118.327067","32.291252"],
					'都市名苑': ["118.342421","32.276276"],
					'宇业富春园': ["118.325005","32.27256"],
					'南都华府': ["118.313208","32.26867"],
					'东升花园': ["118.400389","32.314277"],
					'高速公园壹号': ["118.420212","32.20199"],
					'天逸华府桂园': ["118.334223","32.26255"],
					'天逸华府杏园': ["118.329228","32.261354"],
					'天逸华府竹园': ["118.325793","32.261251"],
					'祥生壹号院': ["118.349478","32.258057"],
					'左岸香颂': ["118.351427","32.261047"],
					'龙蟠北苑': ["118.322037","32.261637"],
                    '凯迪塞纳河畔': ["118.327363","32.257764"],
					'龙蟠汇景': ["118.31622","32.258681"],
                    '金鹏99广场': ["118.317951","332.260877"],
					'发能凤凰城': ["118.344985","32.268428"],
                    '君安阳光都市小区': ["118.344801","32.257496"],
					'大成国际': ["118.333296","32.301407"],
                    '高速东方天地': ["118.344618","32.262392"],
					'凯迪置地广场': ["118.338162","32.25655"],
                    '正东中央公馆': ["118.344227","32.265846"],
					'阳光御景': ["118.332805","32.297689"],
                    '弘阳时光澜庭': ["118.344318","32.24541"],
					'水银山庄': ["118.324598","32.29304"],
                    '名儒园': ["118.321049","32.247171"],
					'龙蟠南苑': ["118.321123","32.252164"],
                    '英仕公馆 ': ["118.346593","32.25454"],
					'尚城国际': ["118.350564","32.265693"],
                    '西涧花园': ["118.299567","32.34063"],
					'长乐小区': ["118.314574","32.271308"],
                    '易景凯旋城': ["118.332902","32.349541"],
					'天达旺角花园': ["118.418253","32.219398"],
                    '同乐西苑': ["118.346478","32.263041"],
					'卓耕天御': ["118.349424","32.268351"],
                    '锦程公馆': ["118.347551","32.256653"],
					'宇业天逸华庭': ["118.330606","32.253882"],
                    '碧桂园仕府公馆': ["118.332164","32.24905"],
					'国际城': ["118.334049","32.260012"],
                    '银花新村': ["118.330211","32.293634"],
					'银花西区': ["118.327256","32.293735"],
                    '金鹏玫瑰郡': ["118.334607","32.269985"],
					'裕坤丽晶城': ["118.331893","32.279543"],
                    '星荟城': ["118.326695","32.209532"],
					'港汇中心': ["118.339847","32.247162"],
                    '恒大名都': ["118.332924","32.276791"],
					'龙山小区': ["118.361507","32.270052"],
                    '盛世华庭熙园': ["118.344537","32.290255"],
					'紫薇园': ["118.336695","32.302458"],
                    '南国家园': ["118.374328","32.261892"],
					'桃园仙居': ["118.372272","32.256716"],
                    '祥生艺境山城': ["118.293373","32.241199"],
					'碧桂园黄金时代': ["118.332797","32.251156"],
                    '金城华府': ["118.329226","32.248359"],
                };

                var convertData = function (data) {
                    var res = [];
                    for (var i = 0; i < data.length; i++) {
                        var geoCoord = geoCoordMap[data[i].name];
                        if (geoCoord) {
                            res.push({
                                name: data[i].name,
                                price:data[i].value,
                                pricedata:data[i].pricedata,
                                value: geoCoord.concat(data[i].value)
                            });
                        }
                    }
                    return res;
                };

                option = {
                    title: {
                        text: '滁州市房价变化分析',
                        // subtext: 'Data from 房价',
                        left: 'center',
                        textStyle: {
                            color: '#111'
                        }
                    },
                    tooltip: {
                        trigger: 'item',
                        formatter: function(params) {
                            console.log(params)
                            return params.name+"："+params.value[2]+"元";
                        }
                    },
                    legend: {
                        orient: 'vertical',
                        top: '50px',
                        right: '50px',
                        data: ['房价', 'Top 5'],
                        textStyle: {
                            color: '#111'
                        }
                    },
                    visualMap: {
                        min: 0,
                        max: 180,
                        calculable: true,
                        inRange: {
                            color: ['#800026', '#BD0026', '#E31A1C', '#FC4E2A', '#FEB24C',
                                '#BD0026', '#BD0026'
                            ],
                            symbolSize: [1, 20]
                        },

                        textStyle: {
                            color: '#111'
                        }
                    },
                    geo: {
                        map: '',
                        label: {
                            emphasis: {
                                show: true
                            }
                        },
                        roam: true,
                        itemStyle: {
                            normal: {
                                areaColor: '#323c48',
                                borderColor: '#111'
                            },
                            emphasis: {
                                areaColor: '#2a333d'
                            }
                        }
                    },
                    series: [
                        {
                            name: '房价',
                            type: 'scatter',
                            coordinateSystem: 'geo',
                            data:convertData(data),
                            symbolSize: function (val) {
                                return val[2] / 10;
                            },
                            label: {
                                normal: {
                                    position: 'right',
                                    show: false
                                },
                                emphasis: {
                                    show: true
                                }
                            },
                            itemStyle: {
                                normal: {
                                    color: '#ddb926'
                                }
                            }
                        },
                        {
                            name: 'Top 5',
                            type: 'effectScatter',
                            coordinateSystem: 'geo',
                            data: convertData(data.sort(function (a, b) {
                                return b.value - a.value;
                            }).slice(0, 6)),
                            symbolSize: function (val) {
                                return val[2] / 10;
                            },
                            showEffectOn: 'render',
                            rippleEffect: {
                                brushType: 'stroke'
                            },
                            hoverAnimation: true,
                            label: {
                                normal: {
                                    formatter:'{b}',
                                    position: 'right',
                                    show: true
                                }
                            },
                            itemStyle: {
                                normal: {
                                    color: '#f4e925',
                                    shadowBlur: 10,
                                    shadowColor: '#BD0026'
                                }
                            },
                            zlevel: 1
                        }
                    ]
                };
                // 使用刚指定的配置项和数据显示图表。
                overlay.setOption(option);
                var count = 0;
                myChart.on('click', function (parmas) {
                    var myChart = echarts.init(document.getElementById('showdata'));
                        // count++;
                        // if (count%2==0){
                        //     myChart.dispose();
                        // }
                    option = {
                        backgroundColor: '#f7f7f2',
                        title: {
                            text: `滁州市${parmas.data.name}近三年房价走向`,
                        },
                        trigger: 'axis',
                        axisPointer : {
                            type : 'shadow'
                        },
                        xAxis: {
                            axisLabel: {
                                formatter: '{value} 年'
                            },
                            type: 'category',
                            data: ['2017', '2018', '2019']
                        },
                        yAxis: {
                            min: 3500,
                            max:12500,
                            interval:2000,
                            axisLabel: {
                                formatter: '{value} 元'
                            },
                            color:'#fff',
                            type: 'value'
                        },
                        grid: {
                            left: '1%',
                            right: '1%',
                            bottom: '1%',
                            containLabel: true
                        },
                        series: [{
                            label: {
                                normal: {
                                    show: true
                                }
                            },
                            data: parmas.data.pricedata,
                            type: 'line',
                            smooth: true
                        }]
                    };
                    myChart.setOption(option);
                });
                $("#del").click(function () {
                    overlay.deleteECharts()
                })
            });
        });
    </script>
</body>

</html>
